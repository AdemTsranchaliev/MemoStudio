<div class="container light-style flex-grow-1 my-5 py-5  d-flex justify-content-center">
    <div class="card w-50 overflow-hidden custom-shadow">
        <div class="row no-gutters row-bordered row-border-light">

            <div class="col-md-12">
                <div class="card-body pb-2">
                    <form [formGroup]="bookingForm" (ngSubmit)="submitForm()">
                        <h4 class="text-center">Довършване на регистрация</h4>

                        <mat-divider class="py-2"></mat-divider>
                        <div class="row">
                            <article class="col-4 img-container mb-4">
                                <img *ngIf="user?.profilePictureBase64" [src]="user?.profilePictureBase64" alt="" />
                                <img *ngIf="!user?.profilePictureBase64" src="assets/images/default-user.png" alt="" />
                            </article>
                            <button class="m-3 h-25" mat-raised-button color="primary" (click)="openDialog()">
                                Качи снимка на бизнеса
                            </button>
                        </div>


                        <label class="custom-field w-100">
                            <input class="w-100" placeholder=" " formControlName="interval" />
                            <span class="placeholder cursor-text">Име на бизнес</span>
                        </label>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="custom-field-select w-100">
                                    <select placeholder=" " [(ngModel)]="startPeriodIndex" class="w-100"
                                        [ngModelOptions]="{standalone: true}" (change)="dateChange(true)">
                                        <option *ngFor="let time of timeSlots; let i=index" value="{{i}}">
                                            {{ time | date : 'HH:mm' }} ч.
                                        </option>
                                    </select>
                                    <span class="placeholder-select cursor-text">Начален час</span>
                                </label>
                            </div>

                            <div class="col-sm-6">
                                <label class="custom-field-select w-100">
                                    <select placeholder=" " [(ngModel)]="endPeriodIndex" class="w-100"
                                        [ngModelOptions]="{standalone: true}" (change)="dateChange(false)">
                                        <option *ngFor="let time of timeSlots; let i=index" value="{{i}}">
                                            {{ time | date : 'HH:mm' }} ч.
                                        </option>
                                    </select>
                                    <span class="placeholder-select cursor-text">Краен час</span>
                                </label>
                            </div>
                        </div>

                        <label class="custom-field-select w-100">
                            <select class="w-100" placeholder=" " formControlName="interval">
                                <option *ngFor="let duration of durations" [value]="duration">
                                    {{ duration }}
                                </option>
                            </select>
                            <span class="placeholder-select cursor-text">Интервал на часовете</span>
                        </label>

                        <app-selection-list [workingDays]="workingDaysFormArray"
                            [title]="'Работни дни'"></app-selection-list>

                        <mat-checkbox class="mt-3" formControlName="allowUserBooking">
                            Позволи потребителите да запазват часове
                        </mat-checkbox>

                        <div class="text-right m-4">
                            <button type="submit" mat-raised-button color="primary">
                                Запази промени
                            </button>
                            &nbsp;
                            <button mat-stroked-button color="primary">Отказ</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>