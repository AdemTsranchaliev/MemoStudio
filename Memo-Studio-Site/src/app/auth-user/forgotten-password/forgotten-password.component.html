<div class="content">
  <div class="container">
    <section>
      <!-- =========== When Respons is fixed remove '!' from 'isConfirmed'  =========== -->
      <div class="confirmed container" *ngIf="requestStatus == 1">
        <div class="alert alert-success" role="alert">
          Инструкции за смяна на паролата бяха изпратени
          <strong>УСПЕШНО</strong> на дадения имейл.
        </div>
      </div>
    </section>
    <div class="row justify-content-center" *ngIf="requestStatus != 1">
      <div class="col-md-12 contents">
        <div class="row justify-content-center">
          <div class="col-md-9">
            <div class="form-block custom-shadow">
              <div class="mb-4">
                <h3>Смяна на парола</h3>
                <p class="mb-4">
                  * На имейл ще получите информация за смяна на парола
                </p>
              </div>
              <div
                class="alert alert-danger"
                role="alert"
                *ngIf="requestStatus == 2"
              >
                Потребител с такъв имейл не съществува.
              </div>
              <form [formGroup]="forgottenPasswordForm" (ngSubmit)="onSubmit()">
                <mat-form-field class="w-100 mt-4">
                  <mat-label>Имейл</mat-label>
                  <input
                    matInput
                    id="email"
                    type="email"
                    formControlName="email"
                  />
                  <mat-error
                    *ngIf="
                      forgottenPasswordForm.get('email').hasError('required') &&
                      forgottenPasswordForm.get('email').touched
                    "
                  >
                    Това поле е задължително.
                  </mat-error>
                  <mat-error
                    *ngIf="
                      forgottenPasswordForm.get('email').hasError('email') &&
                      forgottenPasswordForm.get('email').touched
                    "
                  >
                    Моля въведете валиден имейл адрес.
                  </mat-error>
                </mat-form-field>

                <button
                  type="submit"
                  class="btn btn-pill text-white btn-block btn-primary mt-5"
                  [disabled]="requestStatus == -1"
                >
                  <span *ngIf="requestStatus != -1">Изпрати</span>

                  <!-- <div
                    class="spinner-container d-flex justify-content-center"
                    *ngIf="requestStatus == -1"
                  >
                    <mat-spinner [diameter]="35"></mat-spinner>
                  </div> -->
                </button>
                <div class="pt-4">
                  <a routerLink="login"
                    ><i class="fa fa-angle-left" aria-hidden="true"></i>
                    Назад</a
                  >
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
